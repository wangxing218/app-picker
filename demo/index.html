<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.5, user-scalable=no">
  <meta name="format-detection" content="telephone=no,email=no">
  <meta http-equiv="Cache-Control" content="no-cache">
  <title>select</title>
  <link rel="stylesheet" href="picker.css">
  <style>
  div.demo-btn {
    font-size: 36px;
    height: 80px;
    line-height: 80px;
    color: #fff;
    background-color: #0080ff;
    margin: 15px;
    text-align: center;
    font-weight: lighter;
    border-radius: 8px;
  }
  </style>
</head>

<body>
  <div class="demo-btn" id="testUseA">基本用法一</div>
  <div class="demo-btn" id="testUseB">基本用法二</div>
  <div class="demo-btn" id="testUseC">二级选择</div>
  <div class="demo-btn" id="testUseD">三级联动</div>
  <div class="ui-picker in">
    <div class="picker-mask" onclick="hidePicker()"></div>
    <div class="picker-wrap">
      <div class="picker-header">
        <span class="picker-btn" onclick="hidePicker()">取消</span>
        <span class="picker-btn ok" onclick="hidePicker()">确定</span>
      </div>
      <div class="picker-body">
        <div class="picker-item">
          <ul class="picker-list">
            <li></li>
            <li></li>
            <li></li>
            <li>安徽</li>
            <li>北京</li>
            <li>江苏</li>
            <li>浙江</li>
            <li>上海</li>
            <li></li>
            <li></li>
            <li></li>
          </ul>
        </div>
        <div class="picker-item">
          <ul class="picker-list">
            <li></li>
            <li></li>
            <li></li>
            <li>合肥</li>
            <li>安庆</li>
            <li>芜湖</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>安庆</li>
            <li>芜湖</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>安庆</li>
            <li>芜湖</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>黄山</li>
            <li>其他</li>
            <li>安庆</li>
            <li>芜湖</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>安庆</li>
            <li>芜湖</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>安庆</li>
            <li>芜湖</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>黄山</li>
            <li>其他</li>
            <li>安庆</li>
            <li>芜湖</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>安庆</li>
            <li>芜湖</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>安庆</li>
            <li>芜湖</li>
            <li>马鞍山</li>
            <li>淮南</li>
            <li>宿州</li>
            <li>黄山</li>
            <li>其他</li>
            <li></li>
            <li></li>
            <li></li>
          </ul>
        </div>
        <div class="picker-item">
          <ul class="picker-list">
            <li></li>
            <li></li>
            <li></li>
            <li>蜀山区</li>
            <li></li>
            <li></li>
            <li></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</body>
<script src="picker.js"></script>
<script>

// 基本用法一
document.querySelector('#testUseA').onclick = function(e) {
  if (this.pick) return this.pick.show()
  this.pick = new Picker({
    data: ['选择一', '选择二', '选择三'],
    onOk: val => {
      e.target.innerHTML = val
      console.log(val)
    },
  }).show()
}

// 基本用法二
document.querySelector('#testUseB').onclick = function(e) {
  if (this.pick) return this.pick.show()
  this.pick = new Picker({
    data: [
      { text: '请选择', value: '' },
      { text: '选择一', value: '1' },
      { text: '选择二', value: '2' },
    ],
    onOk: val => {
      e.target.innerHTML = this.pick.getText()
      console.log(val)
    },
  }).show()
}


// 二级选择
document.querySelector('#testUseC').onclick = function(e) {
  if (this.pick) return this.pick.show()
  var data = [
    [{ text: '周一', value: '1' },
      { text: '周二', value: '2' },
      { text: '周三', value: '3' },
      { text: '周四', value: '4' },
      { text: '周五', value: '5' }
    ],
    [{ text: '早上', value: '1' },
      { text: '中午', value: '2' },
      { text: '晚上', value: '3' }
    ]
  ]
  this.pick  = new Picker({
    data: data,
    onOk: val => {
      e.target.innerHTML = this.pick.getText().join(' ')
      console.log(val)
    },
  }).show()
}


// 多级联动
document.querySelector('#testUseD').onclick = function(e) {
  
  if (this.pick){
    return this.pick.show()
  }
  var initVal = e.target.innerHTML.split(' ')
  var data = [
    { text: '安徽', value: '安徽', id: '340000', pid: '000000' },
    { text: '浙江', value: '浙江', id: '210000', pid: '000000' },
    { text: '杭州', value: '杭州', id: '210100', pid: '210000' },
    { text: '西湖', value: '西湖', id: '210101', pid: '210100' },
    { text: '合肥', value: '合肥', id: '340100', pid: '340000' },
    { text: '黄山', value: '黄山', id: '340200', pid: '340000' },
    { text: '经开区', value: '经开区', id: '340101', pid: '340100' },
    { text: '高新区', value: '高新区', id: '340102', pid: '340100' },
    { text: '蜀山区', value: '蜀山区', id: '340103', pid: '340100' },
    { text: '肥东县', value: '肥东县', id: '340104', pid: '340100' },
    { text: '高新区', value: '高新区', id: '340104', pid: '340200' },
  ]
  this.pick= window.pick = new Picker({
    data: data,
    onOk: val => {
      e.target.innerHTML = val.join(' ')
      console.log(val)
    },
    rootId: '000000',
  }).show()
  if(initVal.length == 3){
    this.pick.setValue(initVal)
  }
}
</script>

</html>